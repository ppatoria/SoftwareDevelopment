<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
lang="en" xml:lang="en">
<head>
<title>Database Questions </title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2013-12-24 23:28:22 "/>
<meta name="author" content=""/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">

<h1 class="title">Database Questions </h1>


<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" href="org-style.css" type="text/css" />
<style type="text/css"/></style>
<div id="postamble">
<p class="author"> Author: Pralay Patoria
<a href="mailto:ppatoria@gmail.com">&lt;ppatoria@gmail.com&gt;</a>
</p>
<p class="date"> Date: 24-12-2013</p>
</div>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 Delete vs Truncate. </a></li>
</ul>
</div>
</div>


<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Delete vs Truncate. </h2>
<div class="outline-text-2" id="text-1">


<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption></caption>
<colgroup><col align="right" /><col align="left" /><col align="left" />
</colgroup>
<thead>
<tr><th scope="col">(*)</th><th scope="col">Delete</th><th scope="col">Truncate</th></tr>
</thead>
<tbody>
<tr><td>1</td><td>DELETE statements delete rows one at a time, logging each row in the transaction log, as well as maintaining log sequence number (LSN) information.</td><td>Removes all rows from a table without logging the individual row deletions. TRUNCATE TABLE is similar to the DELETE statement with no WHERE clause; however, TRUNCATE TABLE is faster and uses fewer system and transaction log resources.</td></tr>
<tr><td>2</td><td>You may use DELETE statement against a view (with some limitations).</td><td>You can't use TRUNCATE statement against a view.</td></tr>
<tr><td>3</td><td>You can specify a WHERE clause in a DELETE FROM statement. It is all or selected records.</td><td>You can not specify a WHERE clause in a TRUNCATE TABLE statement. It is all or nothing</td></tr>
<tr><td>4</td><td>Does not reset identity value of the table</td><td>Reset identity value of the table.</td></tr>
<tr><td>5</td><td>Records removed using DELETE can be roll backed and can be restored point in time.</td><td>Records removed using TRUNCATE can ALSO be roll backed.</td></tr>
<tr><td>6</td><td>Triggers get executed on Delete statement.</td><td>Triggers does NOT executed on TRUNCATE statement.</td></tr>
<tr><td>7</td><td>You can use DELETE statement on a parent table and if CASCADE ON DELETE is enabled then data from child table also get deleted. If CASCADE ON DELETE is NOT enabled and any of the child table has related then you can't delete records from parent table.</td><td>You can't truncate a parent table irrespective of whether the child table has any record or not. Truncate table statement will fail for parent table even if CASCADE ON DELETE is enabled.</td></tr>
<tr><td>8</td><td>DELETE statement can be used even if you have Replication/CDC enabled for the table.</td><td>TRUNCATE statement can NOT be used if you have Replication/ CDC enabled for the table.</td></tr>
<tr><td>9</td><td>Log shipping has NO impact on DELETE.</td><td>Log shipping has NO impact on TRUNCATE.</td></tr>
<tr><td>10</td><td>DELETE permissions default to members of the sysadmin fixed server role, the db<sub>owner</sub> and db<sub>datawriter</sub> fixed database roles, and the table owner.</td><td>Minimum permission required is DELETE permissions on the target table. SELECT permissions are also required if the statement contains a WHERE clause.</td></tr>
<tr><td>11</td><td>You need to be db<sub>owner</sub>, ddl<sub>admin</sub>, or owner of the table to be able to fire a TRUNCATE statement.</td><td>Minimum permission required is ALTER table.</td></tr>
<tr><td>12</td><td>DELETE is classified as DML operation.</td><td>TRUNCATE is classified as DDL operation.</td></tr>
</tbody>
</table>


























</div>
</div>
<div id="postamble">
<p class="date"> Date: 2013-12-24 23:28:22 </p>
</div>
</div>
</body>
</html>
